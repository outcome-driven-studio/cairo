# ================================
# CAIRO CDP ENVIRONMENT VARIABLES
# ================================
# Copy this file to .env and fill in your actual values
# Required variables are marked with (REQUIRED)

# ================================
# DATABASE CONFIGURATION (REQUIRED)
# ================================
# Use either POSTGRES_URL or DATABASE_URL (both are supported for compatibility)
# POSTGRES_URL takes precedence if both are set
POSTGRES_URL=postgresql://username:password@hostname:port/database_name
# DATABASE_URL=postgresql://username:password@hostname:port/database_name

# ================================
# SERVER CONFIGURATION
# ================================
PORT=8080
BASE_URL=http://localhost:8080
NODE_ENV=development
LOG_LEVEL=info

# Security (Optional - for future features)
# JWT_SECRET=your_random_secret_here
# WEBHOOK_SECRET=your_webhook_secret_here

# ================================
# EXTERNAL API KEYS (REQUIRED FOR SYNC)
# ================================
LEMLIST_API_KEY=your_lemlist_api_key_here
SMARTLEAD_API_KEY=your_smartlead_api_key_here
ATTIO_API_KEY=your_attio_api_key_here

# ================================
# ENRICHMENT SERVICE API KEYS
# ================================
APOLLO_API_KEY=your_apollo_api_key_here
HUNTER_API_KEY=your_hunter_api_key_here
MIXPANEL_PROJECT_TOKEN=your_mixpanel_token_here

# ================================
# AI ENRICHMENT API KEYS (OPTIONAL)
# ================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
PERPLEXITY_API_KEY=your_perplexity_api_key_here
PERPLEXITY_MODEL=llama-3.1-sonar-small-128k-online

# ================================
# ENRICHMENT CONFIGURATION
# ================================
ENRICHMENT_STRATEGY=cost_optimized
PREFERRED_AI_PROVIDER=openai
AI_MIN_CONFIDENCE=60

# ================================
# BACKGROUND JOB CONFIGURATION
# ================================
# OPTION 1: Modern Periodic Sync (RECOMMENDED)
USE_PERIODIC_SYNC=true
SYNC_INTERVAL_HOURS=4
RUN_SYNC_ON_START=false

# OPTION 2: Legacy Cron Jobs (DEPRECATED - will be removed in future version)
# WARNING: Do not enable both USE_PERIODIC_SYNC and ENABLE_CRON_JOBS simultaneously!
ENABLE_CRON_JOBS=false
DISABLE_CRON_JOBS=false

# ================================
# SYNC SOURCE TOGGLES
# ================================
SYNC_FROM_ATTIO=true
SYNC_FROM_LEMLIST=true
SYNC_FROM_SMARTLEAD=true
CALCULATE_SCORES=true
SYNC_SCORES_TO_ATTIO=true

# ================================
# ICP SCORING CONFIGURATION
# ================================
ENABLE_WEEKLY_ICP_SCORING=true
ICP_SCORING_DAY=0
ICP_SCORING_HOUR=2
MIN_BEHAVIOR_SCORE_FOR_ATTIO=1

# ================================
# MONITORING & ERROR TRACKING
# ================================
SENTRY_DSN=your_sentry_dsn_here
SENTRY_RELEASE=cairo@1.0.0
SENTRY_ENVIRONMENT=production
SLACK_WEBHOOK_URL=your_slack_webhook_url_here
DISABLE_SLACK_ALERTS=false

# ================================
# DEPLOYMENT PLATFORM (AUTO-SET BY PLATFORM)
# ================================
# These are typically set automatically by your deployment platform
# RAILWAY_SERVICE_NAME=cairo
# RAILWAY_ENVIRONMENT=production
# RENDER_SERVICE_NAME=cairo
# HEROKU_APP_NAME=cairo

# ================================
# RAILWAY DEPLOYMENT (AUTO-SET)
# ================================
# RAILWAY_SERVICE_NAME=cairo
# RAILWAY_ENVIRONMENT=production

# ================================
# POLLING & PROCESSING
# ================================
POLL_INTERVAL_MINUTES=5

# ================================
# PRODUCTION DEPLOYMENT EXAMPLE
# ================================
# For Railway deployment, use these settings:
# NODE_ENV=production
# USE_PERIODIC_SYNC=true
# SYNC_INTERVAL_HOURS=4
# RUN_SYNC_ON_START=true

# ================================
# REQUIRED VARIABLES CHECKLIST
# ================================
# Before running the application, ensure you have:
# ✅ POSTGRES_URL or DATABASE_URL - Database connection
# ✅ LEMLIST_API_KEY - For Lemlist sync (if using)
# ✅ SMARTLEAD_API_KEY - For Smartlead sync (if using)  
# ✅ ATTIO_API_KEY - For Attio CRM integration (if using)

# Mixpanel Integration for Sync Pipelines
PERIODIC_SYNC_MIXPANEL_ENABLED=true
